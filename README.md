# EarLang - 耳语

用耳朵学习英语单词。

## 动机

笔者最近阅读了《找对英语学习方法的第一本书》。
这本书讲到学习外语时应该在大脑中建立外语词汇的**发音**和词汇所表达的**概念**之间的联系。
笔者以前学习英语单词时，实际上在建立英语单词的**拼写**和**汉语翻译**之间的联系。
笔者意识到了自己的错误，想要找一个学习单词的工具，来直接建立**发音**和**概念**之间的联系，但没有找到。
笔者决定自己动手写一个，于是有了此项目。

## 使用

### 安装

若您是 Windows 用户，可在 [releases](https://github.com/werneror/earlang/releases) 页面下载编译好的 exe
文件，下载完成后不用安装，直接双击运行即可。
若您是其他平台用户（未在其他平台测试过，不保证兼容性），需下载源码后自行构建可执行文件，具体方法见后文。

第一次运行程序，启动可能会比较慢，需要一小会才能出现图形界面。请耐心等待，不要重复运行。

### 主页面

主页面如下图所示：

![MainWindow](https://user-images.githubusercontent.com/16622293/204133283-747ab126-8500-49ba-8e16-47509f2918bc.png)

主页面默认展示 10 张同一英语单词的图片，默认每隔 2 秒播放一次该单词读音。

右上角工具栏各按钮从左到右依次是：

- 重置按钮：重置当前单词组的学习进度
- 不熟悉单词表按钮：打开不熟悉单词表页面
- 测验按钮：打开测验页面
- 文件夹按钮：打开一个文件夹，其中存放着本软件的全部相关文件，后文称这个文件夹为主文件夹
- 设置按钮：打开设置页面
- 信息按钮：打开关于页面

下部控制栏各按钮从左到右依次是：

- 上一个按钮：切换到上一个单词
- 复制按钮：复制当前单词到剪贴板
- 播放按钮：暂停或继续单词读音的播放
- 添加按钮：添加当前单词到不熟悉单词表
- 下一个按钮：切换到下一个单词

主页面支持的快捷键如下所列：

- 切换到上一个单词：`左方向键` 或 `A`
- 切换到下一个单词：`右方向键` 或 `D`
- 临时显示英文单词拼写：`E`
- 临时用汉语显示单词含义：`C`
- 重置当前组单词学习进度：`R`
- 暂停或继续单词读音的播放：`空格`

主页面中单词选择范围是当前单词组。学习完当前单词组后，可以打开设置页面，选择新的单词组进行学习。也可以自定义单词组，方法见后文。

### 不熟悉单词表页面

不熟悉单词表页面如下图所示：

![UnfamiliarWordsWindow](https://)

该页面显示所有添加到了不熟悉单词表中的单词。可进行编辑。也可全选、复制、粘贴到文件制作成自定义单词组，详情见后文。

### 测验页面

测验页面如下图所示：

![ExamineWindow](https://)

测验页面每次展示 4 张图片，默认每隔 2 秒朗读一次英语单词读音。使用者需从 4 张图片中挑选出单词对应的图片。
若选择正确，下部进度条进度将加 1；若选择错误，将播放错误提示音，重新选择 4 张图片和待测试单词，下部进度条进度不变。
选择错误的单词将在随后再次进行测验。

待测验单词可在设置页面进行设置。

测验页面支持快捷键 `1`、`2`、`3` 和 `4`，分别对应 4 个选项。

### 设置页面

设置页面如下图所示：

![SettingWindow](https://user-images.githubusercontent.com/16622293/204133317-9c80dc05-62bf-48d2-8ab6-f0d12306607f.png)

各设置项含义较为明确，此处不再赘述。

## 常见问题

### 如何自定义要学习的单词

在主文件夹的 `word` 子文件夹中创建一个 txt 文件，如 `example.txt`。
向这个文件中写入要学习的单词，每行一个。可在单词后附加汉语意思，用英文逗号隔开。如：

```
banana,香蕉
apple,苹果
```

打开设置页面，`word group name` 中应该出现刚刚创建的文件名，选择它。接着点击设置页面 `submit` 按钮使配置生效。

点击 `submit` 后可能需要稍稍等待一段时间配置才生效。 如果主页面显示的单词和配置的自定义单词不同，可能是学习进度缓存的问题，点击右上角的重置按钮即可。

不要修改主文件夹 `word` 子文件夹中内置单词组的文件或非 `.txt` 后缀的文件，否则可能导致软件故障。

### 文字太小看起来很费力

可适当调大配置文件中 `fyne`-`scale` 的值，例如调整为 1.5，然后重启软件。

### 汉字无法显示

若汉字无法显示，可能是由于没有正确设置字体。可修改配置文件中 `fyne`-`font` 的值为中文字体 ttf 文件的路径，然后重启软件。

## 工作原理

本软件会从给定的单词列表中按顺序或随机选择一个单词（默认设置为随机），联网下载这个单词相关的图片（默认使用 bing 图片搜索），
联网下载这个单词的读音（默认从剑桥词典下载单词读音）。联网下载的图片和读音都会缓存在主文件夹中，同一单词在设置不变的情况下不会重复下载。

## 构建可执行文件

1. 安装 golang，推荐版本 1.19
2. 安装 fyne 命令

```
$ go install fyne.io/fyne/v2/cmd/fyne@latest
```

3. 下载本项目源码

```
$ git clone https://github.com/werneror/earlang.git
```

4. 进入项目根目录

```
$ cd earlang
```

5. 打包可执行文件

```
$ fyne package --release
```

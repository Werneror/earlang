# EarLang - 耳语

用耳朵学习英语单词。

## 动机

笔者最近阅读了《找对英语学习方法的第一本书》。
这本书讲到学习外语时应该在大脑中建立外语词汇的**发音**和词汇所表达的**概念**之间的联系。
笔者以前学习英语单词时，实际上在建立英语单词的**拼写**和**汉语翻译**之间的联系。
笔者意识到了自己的错误，想要找一个学习单词的工具，来直接建立**发音**和**概念**之间的联系，但没有找到。
笔者决定自己动手写一个，于是有了此项目。

## 适用阶段

本软件是为了进行入门期（Early Stage）的英语名词学习而开发的。（动词的学习应当使用 T.P.R. (全身肢体反应，Total Physical
Response)）

《找对英语学习方法的第一本书》中对这一学习阶段的建议是：

1. 避免使用中文翻译，充分建立外语的直接反应；
2. 不要试图说英语，只练听力；
3. 开始时先只专注于学习单词，然后过渡到短语，不要着急学句子；
4. 不要看英文的拼写，建议拼写的学习完全放弃；
5. 如果有外教参与，最理想的就是外教来引导学生做 T.P.R.。外教需要多用肢体语言或用手画图协助这一过程。不要试图讲课；
6. 不要怕听错，要放松和有信心。

这一阶段一般经历两、三个月，目标是掌握 1000 个左右的词汇（包括名词和动词）的"声音"和它们的含义。

本软件目前有 700 多个内置单词。作者会继续把合适的名词加入到内置单词中。

## 基本使用

### 安装

若您是 Windows 用户，可在 [releases](https://github.com/werneror/earlang/releases) 页面下载编译好的 exe
文件，下载完成后不用安装，直接双击运行即可。
若您是其他平台用户（未在其他平台测试过，不保证兼容性），需下载源码后自行构建可执行文件，具体方法见后文。

第一次运行程序，启动可能会比较慢，需要一小会才能出现图形界面。请耐心等待，不要重复运行。

### 主页面

主页面如下图所示：

![MainWindow](https://user-images.githubusercontent.com/16622293/212705486-bbede8a4-abc9-4c1a-a449-8b6aa2ff3f26.png)

主页面默认展示 10 张同一英语单词的图片，默认每隔 2 秒播放一次该单词读音。

右上角工具栏各按钮从左到右依次是：

- 重置按钮：重置当前单词组的学习进度
- 不熟悉单词表按钮：打开不熟悉单词表页面
- 测验按钮：打开测验页面
- 文件夹按钮：打开一个文件夹，其中存放着本软件的全部相关文件，后文称这个文件夹为主文件夹
- 设置按钮：打开设置页面
- 信息按钮：打开关于页面

下部控制栏各按钮从左到右依次是：

- 上一个按钮：切换到上一个单词
- 复制按钮：复制当前单词到剪贴板
- 播放按钮：暂停或继续单词读音的播放
- 添加按钮：添加当前单词到不熟悉单词表
- 下一个按钮：切换到下一个单词

主页面支持的快捷键如下所列：

- 切换到上一个单词：`左方向键` 或 `A`
- 切换到下一个单词：`右方向键` 或 `D`
- 临时显示英文单词拼写：`E`
- 临时用汉语显示单词含义：`C`
- 重置当前组单词学习进度：`R`
- 复制当前单词到剪贴板：`X`
- 暂停或继续单词读音的播放：`空格`

主页面中单词选择范围是当前单词组。学习完当前单词组后，可以打开设置页面，选择新的单词组进行学习。也可以自定义单词组，方法见后文。

### 不熟悉单词表页面

不熟悉单词表页面如下图所示：

![UnfamiliarWordsWindow](https://user-images.githubusercontent.com/16622293/212705778-57b4ab4a-0dad-4c76-8846-7a18d34838fd.png)

该页面显示所有添加到了不熟悉单词表中的单词。可进行编辑。也可全选、复制、粘贴到文件制作成自定义单词组，详情见后文。

### 测验页面

测验页面如下图所示：

![ExamineWindow](https://user-images.githubusercontent.com/16622293/212705898-d97cb923-2b8d-4233-850f-60609e0dd9ef.png)

测验页面每次展示 4 张图片，默认每隔 2 秒朗读一次英语单词读音。使用者需从 4 张图片中挑选出单词对应的图片。
若选择正确，下部进度条进度将加 1；若选择错误，将播放错误提示音，重新选择 4 张图片和待测试单词，下部进度条进度不变。
选择错误的单词将在随后再次进行测验。

待测验单词可在设置页面进行设置。

测验页面支持快捷键 `1`、`2`、`3` 和 `4`，分别对应 4 个选项。

### 设置页面

设置页面如下图所示：

![SettingWindow](https://user-images.githubusercontent.com/16622293/212705612-c1834928-9711-4bb5-85a2-e080c7046572.png)

大部分设置项含义较为明确，此处不再赘述。仅对重点设置项进行说明：

- `pronunciation source`: 单词读音来源。默认是 `cambridge`，[剑桥词典](https://dictionary.cambridge.org/)
  。剑桥词典不支持短语，遇到短语会自动使用[有道词典](https://www.youdao.com/)，也可设置为全部使用有道词典的读音。
- `picture source`：单词图片来源。目前只支持 `bing`，使用必应图片搜索引擎搜索单词，获取搜索结果中的图片。

单词读音和图片的获取需要联网，网速较慢时会花费较长时间。下载后会进行缓存，同一单词在配置相同的情况下只会下载一次读音和图片。

- `word group`：选择要学习的单词组。可以自定义单词组，方法是在主文件夹的 `word` 子文件夹中创建一个 txt
  文件，如 `example.txt`，
  向这个文件中写入要学习的单词，每行一个。可在单词后附加汉语意思，用英文逗号隔开。可在汉语意思后附加查询该单词图片时使用的语句，用英文逗号隔开，若无此部分，会使用英语单词本身查询对应的图片。如：

```
black
purple,紫
orange,橙,橙色
silvery,,银色
```

注意，不要修改 `word` 文件夹中内置单词组的文件或非 `.txt` 后缀的文件，否则可能导致软件故障。

### 配置文件

配置文件是主文件夹中的 `config.yaml`，其中大部分内容出现在配置页面中，正常情况下不需要手动修改配置文件。下面介绍两种需要修改配置文件的情况。

1. 文字太小，看起来很费力：可适当调大配置文件中 `fyne`-`scale` 的值，例如调整为 1.5
2. 汉字无法显示：可能是由于没有正确设置字体。可修改配置文件中 `fyne`-`font` 的值为中文字体 ttf 文件的绝对路径

修改配置文件并保存后需重启软件才会生效。

## 构建可执行文件

1. 安装 golang，推荐版本 1.19
2. 安装 fyne 命令

```
$ go install fyne.io/fyne/v2/cmd/fyne@latest
```

3. 下载本项目源码

```
$ git clone https://github.com/werneror/earlang.git
```

4. 进入项目根目录

```
$ cd earlang
```

5. 打包可执行文件

```
$ fyne package --release
```
